{"remainingRequest":"/home/cabox/workspace/node_modules/thread-loader/dist/cjs.js!/home/cabox/workspace/node_modules/babel-loader/lib/index.js!/home/cabox/workspace/node_modules/eslint-loader/index.js??ref--14-0!/home/cabox/workspace/src/modules/products/mutations.js","dependencies":[{"path":"/home/cabox/workspace/src/modules/products/mutations.js","mtime":1675386148000},{"path":"/home/cabox/workspace/babel.config.js","mtime":1622141658000},{"path":"/home/cabox/workspace/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/cabox/workspace/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/cabox/workspace/node_modules/babel-loader/lib/index.js","mtime":456789000000},{"path":"/home/cabox/workspace/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:bGV0IHNlYXJjaFByb2R1Y3QgPSByb290U3RhdGUgPT4gewogIGxldCByZXN1bHRzID0gW107CiAgbGV0IHNlYXJjaCA9IG5ldyBSZWdFeHAocm9vdFN0YXRlLnByb2R1Y3RzLmZvcm0uc2VhcmNoLCAiaWciKTsKICBsZXQgcGFyZW50ID0gIiI7CiAgcm9vdFN0YXRlLnByb2R1Y3RzLmRldGFpbHMucHJvZHVjdHMubWFwKHByb2R1Y3QgPT4gewogICAgLy8gc2VhcmNoIGluIGNhdGVnb3J5CiAgICBpZiAoc2VhcmNoLnRlc3QocHJvZHVjdC5uYW1lKSkgewogICAgICBpZiAocGFyZW50ICE9IHByb2R1Y3QuY2F0ZWdvcnkpIHsKICAgICAgICByZXN1bHRzLnB1c2gocHJvZHVjdCk7CiAgICAgICAgcGFyZW50ID0gcHJvZHVjdC5jYXRlZ29yeTsKICAgICAgfQogICAgfSBlbHNlIGlmIChwcm9kdWN0LnN1YmNhdGVnb3JpZXMgIT09IHVuZGVmaW5lZCAmJiBwcm9kdWN0LnN1YmNhdGVnb3JpZXMgIT09IG51bGwgJiYgcHJvZHVjdC5zdWJjYXRlZ29yaWVzLmxlbmd0aCA+IDApIHsKICAgICAgLy8gc2VhcmNoIGluIHN1YmNhdGVnb3J5CiAgICAgIHByb2R1Y3Quc3ViY2F0ZWdvcmllcy5tYXAoc3VicHJvZHVjdCA9PiB7CiAgICAgICAgaWYgKHNlYXJjaC50ZXN0KHN1YnByb2R1Y3QubmFtZSkpIHsKICAgICAgICAgIGlmIChwYXJlbnQgIT0gcHJvZHVjdC5jYXRlZ29yeSkgewogICAgICAgICAgICByZXN1bHRzLnB1c2gocHJvZHVjdCk7CiAgICAgICAgICAgIHBhcmVudCA9IHByb2R1Y3QuY2F0ZWdvcnk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9KTsKICAgIH0KICB9KTsKICByb290U3RhdGUucHJvZHVjdHMuc3RhdHVzID0gcmVzdWx0cy5sZW5ndGggPiAwID8gIlNlIGVuY29udHJhcm9uICIgKyByZXN1bHRzLmxlbmd0aCArICIgcmVzdWx0YWRvcyIgOiAiU2luIHJlc3VsdGFkb3MiOwogIHJvb3RTdGF0ZS5wcm9kdWN0cy5kZXRhaWxzLnByb2R1Y3RzID0gcmVzdWx0czsKfTsKY29uc3QgbXV0YXRpb25zID0gewogIHNldFByb2R1Y3RzKHN0YXRlLCBwcm9kdWN0cykgewogICAgc3RhdGUuZGV0YWlscy5wcm9kdWN0cyA9IHByb2R1Y3RzOwogIH0sCiAgc2VhcmNoUHJvZHVjdChzdGF0ZSwgdmFsdWUpIHsKICAgIHN0YXRlLmZvcm0uc2VhcmNoID0gdmFsdWU7CiAgICBzZWFyY2hQcm9kdWN0KHRoaXMuc3RhdGUpOwogIH0sCiAgc2V0U3RhdHVzKHN0YXRlLCBzdGF0dXMpIHsKICAgIHN0YXRlLnN0YXR1cyA9IHN0YXR1czsKICB9Cn07CmV4cG9ydCBkZWZhdWx0IG11dGF0aW9uczs="},{"version":3,"names":["searchProduct","rootState","results","search","RegExp","products","form","parent","details","map","product","test","name","category","push","subcategories","undefined","length","subproduct","status","mutations","setProducts","state","value","setStatus"],"sources":["/home/cabox/workspace/src/modules/products/mutations.js"],"sourcesContent":["let searchProduct = (rootState) => {\n  let results = [];\n  let search = new RegExp(rootState.products.form.search, \"ig\");\n  let parent = \"\";\n  rootState.products.details.products.map((product) => {\n    // search in category\n    if (search.test(product.name)) {\n      if (parent != product.category) {\n        results.push(product);\n        parent = product.category;\n      }\n    } else if (\n      product.subcategories !== undefined &&\n      product.subcategories !== null &&\n      product.subcategories.length > 0\n    ) {\n      // search in subcategory\n      product.subcategories.map((subproduct) => {\n        if (search.test(subproduct.name)) {\n          if (parent != product.category) {\n            results.push(product);\n            parent = product.category;\n          }\n        }\n      });\n    }\n  });\n  rootState.products.status =\n    results.length > 0\n      ? \"Se encontraron \" + results.length + \" resultados\"\n      : \"Sin resultados\";\n  rootState.products.details.products = results;\n};\n\nconst mutations = {\n  setProducts(state, products) {\n    state.details.products = products;\n  },\n  searchProduct(state, value) {\n    state.form.search = value;\n    searchProduct(this.state);\n  },\n  setStatus(state, status) {\n    state.status = status;\n  },\n};\nexport default mutations;\n"],"mappings":"AAAA,IAAIA,aAAa,GAAIC,SAAS,IAAK;EACjC,IAAIC,OAAO,GAAG,EAAE;EAChB,IAAIC,MAAM,GAAG,IAAIC,MAAM,CAACH,SAAS,CAACI,QAAQ,CAACC,IAAI,CAACH,MAAM,EAAE,IAAI,CAAC;EAC7D,IAAII,MAAM,GAAG,EAAE;EACfN,SAAS,CAACI,QAAQ,CAACG,OAAO,CAACH,QAAQ,CAACI,GAAG,CAAEC,OAAO,IAAK;IACnD;IACA,IAAIP,MAAM,CAACQ,IAAI,CAACD,OAAO,CAACE,IAAI,CAAC,EAAE;MAC7B,IAAIL,MAAM,IAAIG,OAAO,CAACG,QAAQ,EAAE;QAC9BX,OAAO,CAACY,IAAI,CAACJ,OAAO,CAAC;QACrBH,MAAM,GAAGG,OAAO,CAACG,QAAQ;MAC3B;IACF,CAAC,MAAM,IACLH,OAAO,CAACK,aAAa,KAAKC,SAAS,IACnCN,OAAO,CAACK,aAAa,KAAK,IAAI,IAC9BL,OAAO,CAACK,aAAa,CAACE,MAAM,GAAG,CAAC,EAChC;MACA;MACAP,OAAO,CAACK,aAAa,CAACN,GAAG,CAAES,UAAU,IAAK;QACxC,IAAIf,MAAM,CAACQ,IAAI,CAACO,UAAU,CAACN,IAAI,CAAC,EAAE;UAChC,IAAIL,MAAM,IAAIG,OAAO,CAACG,QAAQ,EAAE;YAC9BX,OAAO,CAACY,IAAI,CAACJ,OAAO,CAAC;YACrBH,MAAM,GAAGG,OAAO,CAACG,QAAQ;UAC3B;QACF;MACF,CAAC,CAAC;IACJ;EACF,CAAC,CAAC;EACFZ,SAAS,CAACI,QAAQ,CAACc,MAAM,GACvBjB,OAAO,CAACe,MAAM,GAAG,CAAC,GACd,iBAAiB,GAAGf,OAAO,CAACe,MAAM,GAAG,aAAa,GAClD,gBAAgB;EACtBhB,SAAS,CAACI,QAAQ,CAACG,OAAO,CAACH,QAAQ,GAAGH,OAAO;AAC/C,CAAC;AAED,MAAMkB,SAAS,GAAG;EAChBC,WAAW,CAACC,KAAK,EAAEjB,QAAQ,EAAE;IAC3BiB,KAAK,CAACd,OAAO,CAACH,QAAQ,GAAGA,QAAQ;EACnC,CAAC;EACDL,aAAa,CAACsB,KAAK,EAAEC,KAAK,EAAE;IAC1BD,KAAK,CAAChB,IAAI,CAACH,MAAM,GAAGoB,KAAK;IACzBvB,aAAa,CAAC,IAAI,CAACsB,KAAK,CAAC;EAC3B,CAAC;EACDE,SAAS,CAACF,KAAK,EAAEH,MAAM,EAAE;IACvBG,KAAK,CAACH,MAAM,GAAGA,MAAM;EACvB;AACF,CAAC;AACD,eAAeC,SAAS"}]}