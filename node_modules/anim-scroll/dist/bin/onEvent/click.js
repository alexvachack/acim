"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _setBlock = _interopRequireDefault(require("./setBlock"));

var _animation = _interopRequireDefault(require("../animation"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var _default = (wrapper, options, activeSlide) => {
  var ev = options.isMobile ? 'touchend' : 'click';

  function handler(e) {
    if (e.target.ssClick || e.target.ssClick === 0) {
      options.scrollSensitivity += 7680;

      if (wrapper.arrows) {
        (0, _setBlock.default)(wrapper.arrows.arrowNext, 'block');
        (0, _setBlock.default)(wrapper.arrows.arrowPrev, 'block');
      }

      if (wrapper.navBar) (0, _setBlock.default)(wrapper.navBar, 'block');
      (0, _animation.default)(e.target.ssClick, wrapper, options, activeSlide).then(() => {
        if (wrapper.arrows) {
          (0, _setBlock.default)(wrapper.arrows.arrowNext, 'none');
          (0, _setBlock.default)(wrapper.arrows.arrowPrev, 'none');
        }

        if (wrapper.navBar) (0, _setBlock.default)(wrapper.navBar, 'none');
        options.scrollSensitivity -= 7680;
      });
    }
  }

  if (wrapper.navBar) {
    for (var i = 0; i < wrapper.navBar.children.length - 1; i += 1) {
      wrapper.navBar.children[i].addEventListener(ev, handler);
    }
  }

  if (wrapper.arrows) {
    wrapper.arrows.arrowNext.addEventListener(ev, handler);
    wrapper.arrows.arrowPrev.addEventListener(ev, handler);
  }
};

exports.default = _default;